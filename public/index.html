<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Exercise</title>
  <link href="./assets/favicon.ico" type="image/x-icon" rel="shortcut icon">
  <link href="./assets/favicon.ico" type="image/x-icon" rel="icon">
	<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
	<link href="./reset.css" type="text/css" rel="stylesheet">
	<link href="./style.css" type="text/css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
</head>
<body>
  <!-- Account Summary -->
  <section>
    <div class="container summary">
      <h1>Account Summary</h1>
      <table>
        <tr id="summary_cash">
          <td>Available Cash</td>
          <td></td>
        </tr>
        <tr id="summary_profit_month">
          <td>Profit (Month)</td>
          <td></td>
        </tr>
        <tr id="summary_profit_year">
          <td>Profit (Year)</td>
          <td></td>
        </tr>
        <tr id="summary_profit_all_time">
          <td>Profit (All Time)</td>
          <td></td>
        </tr>
        <tr id="summary_fees">
          <td>Fees</td>
          <td></td>
        </tr>
      </table>
    </div>
  </section>

  <!-- Timeline -->
  <section>
    <div class="container timeline">
      <h1>Timeline</h1>
      <h2 id="date">Date Range</h2>

      <div>
        <canvas id="timelineChart"></canvas>
      </div>
    </div>
  </section>

  <!-- Positions -->
  <section>
    <div class="container positions">
      <h1>Positions</h1>

      <div>
        <canvas id="positionsChart"></canvas>
      </div>

      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Shares</th>
            <th>Value</th>
            <th>Realized</th>
            <th>Dividends</th>
            <th>Unrealized</th>
            <th>Short Term</th>
            <th>Long Term</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <script type="application/javascript" src="./libraries/chart.js"></script>
  <script type="application/javascript" src="./app.js"></script>
  <script type="application/javascript">
    DecipherParser.requestInfo(function(data) {
      var summaryInfo = DecipherParser.getSummaryInfo(data);
      var dailyInfo = DecipherParser.getDailyInfo(data['timeseries']);
      var positionInfo = DecipherParser.getPositionInfo(data['account_positions'][0]['positions']);

      DecipherDom.createSummaryComponent(summaryInfo);
      DecipherDom.createTimelineComponent(dailyInfo);
      DecipherDom.createPositionComponent(positionInfo);
    });
  </script>
</body>
</html>
